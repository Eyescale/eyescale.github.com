<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Lunchbox: lunchbox::Thread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lunchbox
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
   <div id="projectbrief">Multi-threaded C++ toolbox library for all application developers creating high-performance multi-threaded programs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlunchbox_1_1_thread.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classlunchbox_1_1_thread-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lunchbox::Thread Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility class to execute code in a separate execution thread.  
 <a href="classlunchbox_1_1_thread.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="thread_8h_source.html">thread.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for lunchbox::Thread:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classlunchbox_1_1_thread__coll__graph.png" border="0" usemap="#lunchbox_1_1_thread_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a478df724e8cfb6881d2017b8fac87275"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275">Affinity</a> { <a class="el" href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275ad2a05346cca184ddfbe0d15ac49f7bb8">NONE</a> = 0, 
<a class="el" href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275abdc093f548630be3a35d5f76d10bd8dc">CORE</a> = 1, 
<a class="el" href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275af8d8d241627e0789e9034cd0ffeb7a57">SOCKET</a> = -65536, 
<a class="el" href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275a5402e43e4c126064aeea8f7bdd3e9e1d">SOCKET_MAX</a> = -1024
 }</td></tr>
<tr class="memdesc:a478df724e8cfb6881d2017b8fac87275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration values for thread affinity.  <a href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275">More...</a><br /></td></tr>
<tr class="separator:a478df724e8cfb6881d2017b8fac87275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2ea57807149c9cd583a5c1c140ac3cca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a2ea57807149c9cd583a5c1c140ac3cca">Thread</a> ()</td></tr>
<tr class="memdesc:a2ea57807149c9cd583a5c1c140ac3cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new thread.  <a href="#a2ea57807149c9cd583a5c1c140ac3cca">More...</a><br /></td></tr>
<tr class="separator:a2ea57807149c9cd583a5c1c140ac3cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3782400e97d260ec0648c2f913243567"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a3782400e97d260ec0648c2f913243567">Thread</a> (const <a class="el" href="classlunchbox_1_1_thread.html">Thread</a> &amp;from)</td></tr>
<tr class="memdesc:a3782400e97d260ec0648c2f913243567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#a3782400e97d260ec0648c2f913243567">More...</a><br /></td></tr>
<tr class="separator:a3782400e97d260ec0648c2f913243567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1333026f7be472cea17960fe92337a79"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a1333026f7be472cea17960fe92337a79">~Thread</a> ()</td></tr>
<tr class="memdesc:a1333026f7be472cea17960fe92337a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct the thread.  <a href="#a1333026f7be472cea17960fe92337a79">More...</a><br /></td></tr>
<tr class="separator:a1333026f7be472cea17960fe92337a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8afdfecfe8156fb2cef05d5e7b204ef"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#ad8afdfecfe8156fb2cef05d5e7b204ef">start</a> ()</td></tr>
<tr class="memdesc:ad8afdfecfe8156fb2cef05d5e7b204ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the thread.  <a href="#ad8afdfecfe8156fb2cef05d5e7b204ef">More...</a><br /></td></tr>
<tr class="separator:ad8afdfecfe8156fb2cef05d5e7b204ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b60b105263868de86fe3979bd9a104"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a16b60b105263868de86fe3979bd9a104">init</a> ()</td></tr>
<tr class="memdesc:a16b60b105263868de86fe3979bd9a104"><td class="mdescLeft">&#160;</td><td class="mdescRight">The init function for the child thread.  <a href="#a16b60b105263868de86fe3979bd9a104">More...</a><br /></td></tr>
<tr class="separator:a16b60b105263868de86fe3979bd9a104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d5f979e5054e3900c360416652bca6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a83d5f979e5054e3900c360416652bca6">run</a> ()=0</td></tr>
<tr class="memdesc:a83d5f979e5054e3900c360416652bca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The entry function for the child thread.  <a href="#a83d5f979e5054e3900c360416652bca6">More...</a><br /></td></tr>
<tr class="separator:a83d5f979e5054e3900c360416652bca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab916220d6a24ffa6135e910696bd459b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#ab916220d6a24ffa6135e910696bd459b">exit</a> ()</td></tr>
<tr class="memdesc:ab916220d6a24ffa6135e910696bd459b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit the child thread immediately.  <a href="#ab916220d6a24ffa6135e910696bd459b">More...</a><br /></td></tr>
<tr class="separator:ab916220d6a24ffa6135e910696bd459b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27407162c305b0d3e587519448f95b27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a27407162c305b0d3e587519448f95b27">cancel</a> ()</td></tr>
<tr class="memdesc:a27407162c305b0d3e587519448f95b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel (stop) the child thread.  <a href="#a27407162c305b0d3e587519448f95b27">More...</a><br /></td></tr>
<tr class="separator:a27407162c305b0d3e587519448f95b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ac151acf62bd2c3040c5bf000694c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#ad4ac151acf62bd2c3040c5bf000694c9">join</a> ()</td></tr>
<tr class="memdesc:ad4ac151acf62bd2c3040c5bf000694c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the exit of the child thread.  <a href="#ad4ac151acf62bd2c3040c5bf000694c9">More...</a><br /></td></tr>
<tr class="separator:ad4ac151acf62bd2c3040c5bf000694c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09999f5927ad8aa555367c8e716373bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a09999f5927ad8aa555367c8e716373bd">isStopped</a> () const </td></tr>
<tr class="memdesc:a09999f5927ad8aa555367c8e716373bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if the thread is stopped.  <a href="#a09999f5927ad8aa555367c8e716373bd">More...</a><br /></td></tr>
<tr class="separator:a09999f5927ad8aa555367c8e716373bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae892e5ed033e3e5c8880a75b43bd76e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#ae892e5ed033e3e5c8880a75b43bd76e7">isRunning</a> () const </td></tr>
<tr class="memdesc:ae892e5ed033e3e5c8880a75b43bd76e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if the thread is running.  <a href="#ae892e5ed033e3e5c8880a75b43bd76e7">More...</a><br /></td></tr>
<tr class="separator:ae892e5ed033e3e5c8880a75b43bd76e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121cdbad00a0117e715c74cc36512c05"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a121cdbad00a0117e715c74cc36512c05">isCurrent</a> () const </td></tr>
<tr class="separator:a121cdbad00a0117e715c74cc36512c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a79fbeca6f458856fc15561df5e579056"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classlunchbox_1_1_thread_i_d.html">ThreadID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlunchbox_1_1_thread.html#a79fbeca6f458856fc15561df5e579056">getSelfThreadID</a> ()</td></tr>
<tr class="separator:a79fbeca6f458856fc15561df5e579056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28f1c33223a919a4a46d556ebed6d3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad28f1c33223a919a4a46d556ebed6d3f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>yield</b> ()</td></tr>
<tr class="separator:ad28f1c33223a919a4a46d556ebed6d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc65d113f576a6743586c9f9856b195"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacc65d113f576a6743586c9f9856b195"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>setName</b> (const std::string &amp;name)</td></tr>
<tr class="separator:aacc65d113f576a6743586c9f9856b195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66cdc6a01fedd9adf4d39b521981adf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae66cdc6a01fedd9adf4d39b521981adf"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>setAffinity</b> (const int32_t affinity)</td></tr>
<tr class="separator:ae66cdc6a01fedd9adf4d39b521981adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a4cd7b0d08e132d8232c91dbbe9d1ae89"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cd7b0d08e132d8232c91dbbe9d1ae89"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>lunchbox::abort</b> (bool)</td></tr>
<tr class="separator:a4cd7b0d08e132d8232c91dbbe9d1ae89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility class to execute code in a separate execution thread. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000015">Deprecated:</a></b></dt><dd>Use Boost.Thread</dd></dl>
<p>Example: </p><div class="fragment"><div class="line"></div>
<div class="line"><span class="comment">/* Copyright (c) 2006-2014, Stefan Eilemann &lt;eile@equalizergraphics.com&gt;</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This library is free software; you can redistribute it and/or modify it under</span></div>
<div class="line"><span class="comment"> * the terms of the GNU Lesser General Public License version 2.1 as published</span></div>
<div class="line"><span class="comment"> * by the Free Software Foundation.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * This library is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div>
<div class="line"><span class="comment"> * FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more</span></div>
<div class="line"><span class="comment"> * details.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment"> * along with this library; if not, write to the Free Software Foundation, Inc.,</span></div>
<div class="line"><span class="comment"> * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;lunchbox/test.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;lunchbox/clock.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;lunchbox/sleep.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;lunchbox/thread.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define NTHREADS 256</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>LoadThread : <span class="keyword">public</span> <a class="code" href="classlunchbox_1_1_thread.html">lunchbox::Thread</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~LoadThread() {}</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classlunchbox_1_1_thread.html#a83d5f979e5054e3900c360416652bca6">run</a>() {}</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>InitThread : <span class="keyword">public</span> LoadThread</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    InitThread() : initLeft( false ) {}</div>
<div class="line">    <span class="keyword">virtual</span> ~InitThread() {}</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classlunchbox_1_1_thread.html#a16b60b105263868de86fe3979bd9a104">init</a>()</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="namespacelunchbox.html#a5832d9de155629b6117a133b6f272c69">lunchbox::sleep</a>( 10 );</div>
<div class="line">        initLeft = <span class="keyword">true</span>;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classlunchbox_1_1_thread.html#a83d5f979e5054e3900c360416652bca6">run</a>()</div>
<div class="line">    {</div>
<div class="line">        TEST( !<a class="code" href="classlunchbox_1_1_thread.html#ad4ac151acf62bd2c3040c5bf000694c9">join</a>( ));</div>
<div class="line">        <a class="code" href="classlunchbox_1_1_thread.html#ab916220d6a24ffa6135e910696bd459b">exit</a>();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> initLeft;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>FailThread : <span class="keyword">public</span> InitThread</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~FailThread() {}</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classlunchbox_1_1_thread.html#a16b60b105263868de86fe3979bd9a104">init</a>()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span>, <span class="keywordtype">char</span>** )</div>
<div class="line">{</div>
<div class="line">    LoadThread loadThreads[NTHREADS];</div>
<div class="line">    <a class="code" href="classlunchbox_1_1_clock.html">lunchbox::Clock</a> clock;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;NTHREADS; ++i )</div>
<div class="line">        TEST( loadThreads[i].<a class="code" href="classlunchbox_1_1_thread.html#ad8afdfecfe8156fb2cef05d5e7b204ef">start</a>( ));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;NTHREADS; ++i )</div>
<div class="line">        TEST( loadThreads[i].<a class="code" href="classlunchbox_1_1_thread.html#ad4ac151acf62bd2c3040c5bf000694c9">join</a>( ));</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">float</span> time = clock.<a class="code" href="classlunchbox_1_1_clock.html#aeebff54f50c1b2fad25038c0ef3242ef">getTimef</a>();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Spawned and joined &quot;</span> &lt;&lt; NTHREADS &lt;&lt; <span class="stringliteral">&quot; loadThreads in &quot;</span></div>
<div class="line">              &lt;&lt; time &lt;&lt; <span class="stringliteral">&quot; ms (&quot;</span> &lt;&lt; (NTHREADS/time) &lt;&lt; <span class="stringliteral">&quot; threads/ms)&quot;</span></div>
<div class="line">              &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;NTHREADS; ++i )</div>
<div class="line">        TEST( loadThreads[i].<a class="code" href="classlunchbox_1_1_thread.html#a09999f5927ad8aa555367c8e716373bd">isStopped</a>( ));</div>
<div class="line"></div>
<div class="line">    InitThread initThreads[NTHREADS];</div>
<div class="line"></div>
<div class="line">    clock.<a class="code" href="classlunchbox_1_1_clock.html#a79e773ad626f597ef1f972d9ffdfb669">reset</a>();</div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;NTHREADS; ++i )</div>
<div class="line">    {</div>
<div class="line">        TEST( initThreads[i].<a class="code" href="classlunchbox_1_1_thread.html#ad8afdfecfe8156fb2cef05d5e7b204ef">start</a>( ));</div>
<div class="line">        TEST( initThreads[i].initLeft == <span class="keyword">true</span> );</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#ifdef _MSC_VER // resolution of Sleep is not high enough...</span></div>
<div class="line">    TESTINFO( clock.<a class="code" href="classlunchbox_1_1_clock.html#aeebff54f50c1b2fad25038c0ef3242ef">getTimef</a>() + 1.f &gt; NTHREADS * 10, clock.<a class="code" href="classlunchbox_1_1_clock.html#aeebff54f50c1b2fad25038c0ef3242ef">getTimef</a>( ));</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    TESTINFO( clock.<a class="code" href="classlunchbox_1_1_clock.html#aeebff54f50c1b2fad25038c0ef3242ef">getTimef</a>() &gt; NTHREADS * 10, clock.<a class="code" href="classlunchbox_1_1_clock.html#aeebff54f50c1b2fad25038c0ef3242ef">getTimef</a>( ));</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;NTHREADS; ++i )</div>
<div class="line">        TEST( initThreads[i].<a class="code" href="classlunchbox_1_1_thread.html#ad4ac151acf62bd2c3040c5bf000694c9">join</a>( ));</div>
<div class="line"></div>
<div class="line">    FailThread failThread;</div>
<div class="line">    TEST( !failThread.start( ));</div>
<div class="line">    TEST( !failThread.isRunning( ));</div>
<div class="line">    TEST( failThread.isStopped( ));</div>
<div class="line">    TEST( !failThread.join( ));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="thread_8h_source.html#l00041">41</a> of file <a class="el" href="thread_8h_source.html">thread.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a478df724e8cfb6881d2017b8fac87275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classlunchbox_1_1_thread.html#a478df724e8cfb6881d2017b8fac87275">lunchbox::Thread::Affinity</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration values for thread affinity. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a478df724e8cfb6881d2017b8fac87275ad2a05346cca184ddfbe0d15ac49f7bb8"></a>NONE&#160;</td><td class="fielddoc">
<p>Don't set any affinity. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a478df724e8cfb6881d2017b8fac87275abdc093f548630be3a35d5f76d10bd8dc"></a>CORE&#160;</td><td class="fielddoc">
<p>Bind to a specific CPU core. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a478df724e8cfb6881d2017b8fac87275af8d8d241627e0789e9034cd0ffeb7a57"></a>SOCKET&#160;</td><td class="fielddoc">
<p>Bind to all cores of a specific socket (CPU) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a478df724e8cfb6881d2017b8fac87275a5402e43e4c126064aeea8f7bdd3e9e1d"></a>SOCKET_MAX&#160;</td><td class="fielddoc">
<p>Highest bindable CPU. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="thread_8h_source.html#l00045">45</a> of file <a class="el" href="thread_8h_source.html">thread.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2ea57807149c9cd583a5c1c140ac3cca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lunchbox::Thread::Thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new thread. </p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a3782400e97d260ec0648c2f913243567"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lunchbox::Thread::Thread </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlunchbox_1_1_thread.html">Thread</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor. </p>
<dl class="section version"><dt>Version</dt><dd>1.1.2 </dd></dl>

</div>
</div>
<a class="anchor" id="a1333026f7be472cea17960fe92337a79"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual lunchbox::Thread::~Thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destruct the thread. </p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a27407162c305b0d3e587519448f95b27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lunchbox::Thread::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel (stop) the child thread. </p>
<p>This function is not to be called from the child thread. </p><dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ab916220d6a24ffa6135e910696bd459b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lunchbox::Thread::exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exit the child thread immediately. </p>
<p>This function does not return. It is only to be called from the child thread.</p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a79fbeca6f458856fc15561df5e579056"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classlunchbox_1_1_thread_i_d.html">ThreadID</a> lunchbox::Thread::getSelfThreadID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a unique identifier for the calling thread. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a16b60b105263868de86fe3979bd9a104"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lunchbox::Thread::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The init function for the child thread. </p>
<p>The parent thread will not be unlocked before this function has been executed. If the thread initialization fails, that is, this method does return false, the thread will be stopped and the <a class="el" href="classlunchbox_1_1_thread.html#ad8afdfecfe8156fb2cef05d5e7b204ef" title="Start the thread. ">start()</a> method will return false.</p>
<dl class="section return"><dt>Returns</dt><dd>the success value of the thread initialization. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

<p>Definition at line <a class="el" href="thread_8h_source.html#l00083">83</a> of file <a class="el" href="thread_8h_source.html">thread.h</a>.</p>

</div>
</div>
<a class="anchor" id="a121cdbad00a0117e715c74cc36512c05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lunchbox::Thread::isCurrent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if the calling thread is the same thread as this thread, false otherwise. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ae892e5ed033e3e5c8880a75b43bd76e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lunchbox::Thread::isRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if the thread is running. </p>
<p>Note that the thread may be neither running nor stopped if it is currently starting or stopping.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the thread is running, false if not. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a09999f5927ad8aa555367c8e716373bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lunchbox::Thread::isStopped </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if the thread is stopped. </p>
<p>Note that the thread may be neither running nor stopped if it is currently starting or stopping.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the thread is stopped, false if not. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ad4ac151acf62bd2c3040c5bf000694c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lunchbox::Thread::join </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the exit of the child thread. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the thread was joined, false otherwise. </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a83d5f979e5054e3900c360416652bca6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void lunchbox::Thread::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The entry function for the child thread. </p>
<p>This method should contain the main execution routine for the thread and is called after a successful <a class="el" href="classlunchbox_1_1_thread.html#a16b60b105263868de86fe3979bd9a104" title="The init function for the child thread. ">init()</a>.</p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ad8afdfecfe8156fb2cef05d5e7b204ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool lunchbox::Thread::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the thread. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the thread was launched and initialized successfully, false otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classlunchbox_1_1_thread.html#a16b60b105263868de86fe3979bd9a104" title="The init function for the child thread. ">init()</a>, <a class="el" href="classlunchbox_1_1_thread.html#a83d5f979e5054e3900c360416652bca6" title="The entry function for the child thread. ">run()</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="thread_8h_source.html">thread.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelunchbox.html">lunchbox</a></li><li class="navelem"><a class="el" href="classlunchbox_1_1_thread.html">Thread</a></li>
    <li class="footer">Generated on Tue Sep 13 2016 05:23:40 for Lunchbox by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
