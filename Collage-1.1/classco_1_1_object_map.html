<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Collage: co::ObjectMap Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceco.html">co</a>::<a class="el" href="classco_1_1_object_map.html">ObjectMap</a>
  </div>
</div>
<div class="contents">
<h1>co::ObjectMap Class Reference</h1><!-- doxytag: class="co::ObjectMap" --><!-- doxytag: inherits="co::Serializable" -->
<p>A distributed object registry.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="object_map_8h_source.html">objectMap.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for co::ObjectMap:</div>
<div class="dynsection">
<div class="center"><img src="classco_1_1_object_map__inherit__graph.png" border="0" usemap="#co_1_1_object_map_inherit__map" alt="Inheritance graph"/></div>
<map name="co_1_1_object_map_inherit__map" id="co_1_1_object_map_inherit__map">
<area shape="rect" id="node2" href="classco_1_1_serializable.html" title="Base class for distributed, inheritable objects." alt="" coords="17,1921,191,2301"/><area shape="rect" id="node4" href="classco_1_1_object.html" title="A distributed object." alt="" coords="5,261,203,1872"/><area shape="rect" id="node6" href="classco_1_1_dispatcher.html" title="A class providing command dispatch functionality to networked objects." alt="" coords="19,6,189,213"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for co::ObjectMap:</div>
<div class="dynsection">
<div class="center"><img src="classco_1_1_object_map__coll__graph.png" border="0" usemap="#co_1_1_object_map_coll__map" alt="Collaboration graph"/></div>
<map name="co_1_1_object_map_coll__map" id="co_1_1_object_map_coll__map">
<area shape="rect" id="node2" href="classco_1_1_serializable.html" title="Base class for distributed, inheritable objects." alt="" coords="17,1921,191,2301"/><area shape="rect" id="node4" href="classco_1_1_object.html" title="A distributed object." alt="" coords="5,261,203,1872"/><area shape="rect" id="node6" href="classco_1_1_dispatcher.html" title="A class providing command dispatch functionality to networked objects." alt="" coords="19,6,189,213"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classco_1_1_object_map-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a135f6e84c8a86818450d86110426e1f0">ObjectMap</a> (<a class="el" href="classco_1_1_object_handler.html">ObjectHandler</a> &amp;handler, <a class="el" href="classco_1_1_object_factory.html">ObjectFactory</a> &amp;factory)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a new object map.  <a href="#a135f6e84c8a86818450d86110426e1f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual CO_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a5a96fb6e233d6da2031b0c2259306216">~ObjectMap</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy this object map.  <a href="#a5a96fb6e233d6da2031b0c2259306216"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#ad9e1435a452b905b85ac9793b54e1ed0">register_</a> (<a class="el" href="classco_1_1_object.html">Object</a> *object, const uint32_t type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add and register a new object as master instance to this object map.  <a href="#ad9e1435a452b905b85ac9793b54e1ed0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a674eb08db93656e73b3a87e90a2a6e39">deregister</a> (<a class="el" href="classco_1_1_object.html">Object</a> *object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove and deregister an object from this object map.  <a href="#a674eb08db93656e73b3a87e90a2a6e39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API <a class="el" href="classco_1_1_object.html">Object</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a0f8a5e65e5acfa0d59d1a9caaca9f800">map</a> (const UUID &amp;identifier, <a class="el" href="classco_1_1_object.html">Object</a> *instance=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map and return an object.  <a href="#a0f8a5e65e5acfa0d59d1a9caaca9f800"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a3286394a22ddf715793287e954d2c19e">unmap</a> (<a class="el" href="classco_1_1_object.html">Object</a> *object)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unmap an object from the object map.  <a href="#a3286394a22ddf715793287e954d2c19e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#adbac29af8f614bb16d87943808d3bbf3">clear</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deregister or unmap all registered and mapped objects.  <a href="#adbac29af8f614bb16d87943808d3bbf3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API uint128_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a7667122fed300df5c58de304dd73d486">commit</a> (const uint32_t incarnation=CO_COMMIT_NEXT) override</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit all registered objects.  <a href="#a7667122fed300df5c58de304dd73d486"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a7f1486e158d7fa7c5c33ac6615958367">DirtyBits</a> { <b>DIRTY_ADDED</b> =  Serializable::DIRTY_CUSTOM &lt;&lt; 0, 
<b>DIRTY_REMOVED</b> =  Serializable::DIRTY_CUSTOM &lt;&lt; 1, 
<b>DIRTY_CHANGED</b> =  Serializable::DIRTY_CUSTOM &lt;&lt; 2, 
<b>DIRTY_CUSTOM</b> =  Serializable::DIRTY_CUSTOM &lt;&lt; 3
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>The changed parts of the serializable since the last <a class="el" href="classco_1_1_serializable.html#a1ba186d72d7f5fa54c8ef0fd941739ba" title="Serialize the modifications since the last call to commit().">pack()</a>. </p>
 <a href="classco_1_1_object_map.html#a7f1486e158d7fa7c5c33ac6615958367">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#af1c0165cd487172621f7c60548581421">isDirty</a> () const override</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#af04ce0f364039c27fe0c6819de544a36">serialize</a> (<a class="el" href="classco_1_1_data_o_stream.html">DataOStream</a> &amp;os, const uint64_t dirtyBits) override</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Worker for <a class="el" href="classco_1_1_serializable.html#a1ba186d72d7f5fa54c8ef0fd941739ba" title="Serialize the modifications since the last call to commit().">pack()</a> and <a class="el" href="classco_1_1_serializable.html#adb431f295aeaf278e83152ccbaa4a44c" title="Serialize all instance information of this distributed object.">getInstanceData()</a>.  <a href="#af04ce0f364039c27fe0c6819de544a36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#ab27c2285e19cfb5899c6c790a9e67f7d">deserialize</a> (<a class="el" href="classco_1_1_data_i_stream.html">DataIStream</a> &amp;is, const uint64_t dirtyBits) override</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Worker for <a class="el" href="classco_1_1_serializable.html#a918167eee763a27fb049616a26546520" title="Deserialize a change.">unpack()</a> and <a class="el" href="classco_1_1_serializable.html#a4d5dcb0135f393bc504cd0b731a62ca1" title="Deserialize the instance data.">applyInstanceData()</a>.  <a href="#ab27c2285e19cfb5899c6c790a9e67f7d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classco_1_1_object.html#aaae58400a7f8d052bfa2b5392a5fbfe8">ChangeType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#ab5b4b2a572cfed489546028703816226">getChangeType</a> () const override</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_object_map.html#a80f168d866afb5221c9301c6f67e6f15">notifyAttached</a> () override</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A distributed object registry. </p>
<p>The object map takes care of distribution and synchronization of registered objects across all slave instances. Objects are registered with an additional type to resolve the creation of new objects during mapping. This creation is handled by an <a class="el" href="classco_1_1_object_factory.html" title="The interface to create objects, used by ObjectMap.">ObjectFactory</a> which has to be provided and implemented for the desired object types. </p>

<p>Definition at line <a class="el" href="object_map_8h_source.html#l00039">39</a> of file <a class="el" href="object_map_8h_source.html">objectMap.h</a>.</p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a7f1486e158d7fa7c5c33ac6615958367"></a><!-- doxytag: member="co::ObjectMap::DirtyBits" ref="a7f1486e158d7fa7c5c33ac6615958367" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classco_1_1_object_map.html#a7f1486e158d7fa7c5c33ac6615958367">co::ObjectMap::DirtyBits</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The changed parts of the serializable since the last <a class="el" href="classco_1_1_serializable.html#a1ba186d72d7f5fa54c8ef0fd941739ba" title="Serialize the modifications since the last call to commit().">pack()</a>. </p>
<p>Subclasses should define their own bits, starting at DIRTY_CUSTOM. </p>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a3b237d0d2592d69fd4e010e5988d587a">co::Serializable</a>.</p>

<p>Definition at line <a class="el" href="object_map_8h_source.html#l00139">139</a> of file <a class="el" href="object_map_8h_source.html">objectMap.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a135f6e84c8a86818450d86110426e1f0"></a><!-- doxytag: member="co::ObjectMap::ObjectMap" ref="a135f6e84c8a86818450d86110426e1f0" args="(ObjectHandler &amp;handler, ObjectFactory &amp;factory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API co::ObjectMap::ObjectMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_object_handler.html">ObjectHandler</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classco_1_1_object_factory.html">ObjectFactory</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>factory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a new object map. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>used for object registration and mapping </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>factory</em>&nbsp;</td><td>to create &amp; destroy slave objects </td></tr>
  </table>
  </dd>
</dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a5a96fb6e233d6da2031b0c2259306216"></a><!-- doxytag: member="co::ObjectMap::~ObjectMap" ref="a5a96fb6e233d6da2031b0c2259306216" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual CO_API co::ObjectMap::~ObjectMap </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy this object map. </p>
<p>All registered and mapped objects will be deregistered and unmapped. All mapped and owned objects will be destroyed using the object factory. </p>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="adbac29af8f614bb16d87943808d3bbf3"></a><!-- doxytag: member="co::ObjectMap::clear" ref="adbac29af8f614bb16d87943808d3bbf3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void co::ObjectMap::clear </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deregister or unmap all registered and mapped objects. </p>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a7667122fed300df5c58de304dd73d486"></a><!-- doxytag: member="co::ObjectMap::commit" ref="a7667122fed300df5c58de304dd73d486" args="(const uint32_t incarnation=CO_COMMIT_NEXT) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API uint128_t co::ObjectMap::commit </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&nbsp;</td>
          <td class="paramname"> <em>incarnation</em> = <code>CO_COMMIT_NEXT</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [override, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Commit all registered objects. </p>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a825495ec875b24b708fee68f8a225191">co::Serializable</a>.</p>

</div>
</div>
<a class="anchor" id="a674eb08db93656e73b3a87e90a2a6e39"></a><!-- doxytag: member="co::ObjectMap::deregister" ref="a674eb08db93656e73b3a87e90a2a6e39" args="(Object *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::ObjectMap::deregister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_object.html">Object</a> *&nbsp;</td>
          <td class="paramname"> <em>object</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove and deregister an object from this object map. </p>
<p>Upon deregistering using the map's object handler, this object will be remembered for unmap and possible deletion on the next commit of this object map.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>the object to remove and deregister </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false on if object was not registered, true otherwise </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ab27c2285e19cfb5899c6c790a9e67f7d"></a><!-- doxytag: member="co::ObjectMap::deserialize" ref="ab27c2285e19cfb5899c6c790a9e67f7d" args="(DataIStream &amp;is, const uint64_t dirtyBits) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void co::ObjectMap::deserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_data_i_stream.html">DataIStream</a> &amp;&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&nbsp;</td>
          <td class="paramname"> <em>uint64_t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Worker for <a class="el" href="classco_1_1_serializable.html#a918167eee763a27fb049616a26546520" title="Deserialize a change.">unpack()</a> and <a class="el" href="classco_1_1_serializable.html#a4d5dcb0135f393bc504cd0b731a62ca1" title="Deserialize the instance data.">applyInstanceData()</a>. </p>
<p>This function is called with the dirty bits send by the master instance. The dirty bits are received beforehand, and do not need to be deserialized by the overriding method.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1_object_map.html#af04ce0f364039c27fe0c6819de544a36" title="Worker for pack() and getInstanceData().">serialize()</a> </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a80a9655c5c78990e9400f6e73a3b2da7">co::Serializable</a>.</p>

</div>
</div>
<a class="anchor" id="ab5b4b2a572cfed489546028703816226"></a><!-- doxytag: member="co::ObjectMap::getChangeType" ref="ab5b4b2a572cfed489546028703816226" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classco_1_1_object.html#aaae58400a7f8d052bfa2b5392a5fbfe8">ChangeType</a> co::ObjectMap::getChangeType </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1_object.html#a10ba549521822bf9401319e1d15c94bd">Object::getChangeType()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a0ba381c0a6cbc93a959e6623427ebe8c">co::Serializable</a>.</p>

<p>Definition at line <a class="el" href="object_map_8h_source.html#l00135">135</a> of file <a class="el" href="object_map_8h_source.html">objectMap.h</a>.</p>

<p>References <a class="el" href="classco_1_1_object.html#aaae58400a7f8d052bfa2b5392a5fbfe8a2b1bfe2c6f342bc3c0e73f7ebdd87f07">co::Object::DELTA</a>.</p>

</div>
</div>
<a class="anchor" id="af1c0165cd487172621f7c60548581421"></a><!-- doxytag: member="co::ObjectMap::isDirty" ref="af1c0165cd487172621f7c60548581421" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::ObjectMap::isDirty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the serializable has to be committed. </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a16e7a33f20c65f6ea2b4694556bd7067">co::Serializable</a>.</p>

</div>
</div>
<a class="anchor" id="a0f8a5e65e5acfa0d59d1a9caaca9f800"></a><!-- doxytag: member="co::ObjectMap::map" ref="a0f8a5e65e5acfa0d59d1a9caaca9f800" args="(const UUID &amp;identifier, Object *instance=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API <a class="el" href="classco_1_1_object.html">Object</a>* co::ObjectMap::map </td>
          <td>(</td>
          <td class="paramtype">const UUID &amp;&nbsp;</td>
          <td class="paramname"> <em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classco_1_1_object.html">Object</a> *&nbsp;</td>
          <td class="paramname"> <em>instance</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Map and return an object. </p>
<p>The object is either created via its type specified upon registering or an already created instance is used if passed to this function. Passed instances will not be considered for deletion during explicit <a class="el" href="classco_1_1_object_map.html#a3286394a22ddf715793287e954d2c19e" title="Unmap an object from the object map.">unmap()</a>, implicit unmap caused by <a class="el" href="classco_1_1_object_map.html#a674eb08db93656e73b3a87e90a2a6e39" title="Remove and deregister an object from this object map.">deregister()</a>, or destruction of this object map.</p>
<p>The object will be mapped to the version that was current on registration time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>identifier</em>&nbsp;</td><td>unique object identifier used for map operation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>instance</em>&nbsp;</td><td>already created instance to skip factory creation </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if not registered, the valid instance otherwise </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a80f168d866afb5221c9301c6f67e6f15"></a><!-- doxytag: member="co::ObjectMap::notifyAttached" ref="a80f168d866afb5221c9301c6f67e6f15" args="() override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void co::ObjectMap::notifyAttached </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classco_1_1_object.html#adea849be34cf83a2809075c16d16685b" title="Notify that this object has been registered or mapped.">Object::notifyAttached()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a06caf6eae5e51c86dd8fa9f12af8241e">co::Serializable</a>.</p>

</div>
</div>
<a class="anchor" id="ad9e1435a452b905b85ac9793b54e1ed0"></a><!-- doxytag: member="co::ObjectMap::register_" ref="ad9e1435a452b905b85ac9793b54e1ed0" args="(Object *object, const uint32_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::ObjectMap::register_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_object.html">Object</a> *&nbsp;</td>
          <td class="paramname"> <em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add and register a new object as master instance to this object map. </p>
<p>Upon registering using the map's object handler, this object will be remembered for serialization on the next commit of this object map.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>the new object to add and register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>unique object type to create object via slave factory </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false on failed <a class="el" href="classco_1_1_object_handler.html#a059b7d0d98c214b65eb4fd8ed590babf" title="Register a distributed object.">ObjectHandler::registerObject</a>, true otherwise </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="af04ce0f364039c27fe0c6819de544a36"></a><!-- doxytag: member="co::ObjectMap::serialize" ref="af04ce0f364039c27fe0c6819de544a36" args="(DataOStream &amp;os, const uint64_t dirtyBits) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API void co::ObjectMap::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_data_o_stream.html">DataOStream</a> &amp;&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&nbsp;</td>
          <td class="paramname"> <em>uint64_t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Worker for <a class="el" href="classco_1_1_serializable.html#a1ba186d72d7f5fa54c8ef0fd941739ba" title="Serialize the modifications since the last call to commit().">pack()</a> and <a class="el" href="classco_1_1_serializable.html#adb431f295aeaf278e83152ccbaa4a44c" title="Serialize all instance information of this distributed object.">getInstanceData()</a>. </p>
<p>Override this and <a class="el" href="classco_1_1_object_map.html#ab27c2285e19cfb5899c6c790a9e67f7d" title="Worker for unpack() and applyInstanceData().">deserialize()</a> to distribute subclassed data.</p>
<p>This method is called with DIRTY_ALL from <a class="el" href="classco_1_1_serializable.html#adb431f295aeaf278e83152ccbaa4a44c" title="Serialize all instance information of this distributed object.">getInstanceData()</a> and with the actual dirty bits from <a class="el" href="classco_1_1_serializable.html#a1ba186d72d7f5fa54c8ef0fd941739ba" title="Serialize the modifications since the last call to commit().">pack()</a>, which also resets the dirty state afterwards. The dirty bits are transmitted beforehand, and do not need to be transmitted by the overriding method. </p>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_serializable.html#a1a769d13db52754bebdd91edad008a82">co::Serializable</a>.</p>

</div>
</div>
<a class="anchor" id="a3286394a22ddf715793287e954d2c19e"></a><!-- doxytag: member="co::ObjectMap::unmap" ref="a3286394a22ddf715793287e954d2c19e" args="(Object *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API bool co::ObjectMap::unmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_object.html">Object</a> *&nbsp;</td>
          <td class="paramname"> <em>object</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unmap an object from the object map. </p>
<p>The object is unmapped using the map's object handler and will not be considered for further synchronization. The object will be destructed if if was created by the object map.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>the object to unmap </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false on if object was not mapped, true otherwise </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="object_map_8h_source.html">objectMap.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 14 Apr 2014 for Collage by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
