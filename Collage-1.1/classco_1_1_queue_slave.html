<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Collage: co::QueueSlave Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceco.html">co</a>::<a class="el" href="classco_1_1_queue_slave.html">QueueSlave</a>
  </div>
</div>
<div class="contents">
<h1>co::QueueSlave Class Reference</h1><!-- doxytag: class="co::QueueSlave" --><!-- doxytag: inherits="co::Object" -->
<p>The consumer end of a distributed queue.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="queue_slave_8h_source.html">queueSlave.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for co::QueueSlave:</div>
<div class="dynsection">
<div class="center"><img src="classco_1_1_queue_slave__inherit__graph.png" border="0" usemap="#co_1_1_queue_slave_inherit__map" alt="Inheritance graph"/></div>
<map name="co_1_1_queue_slave_inherit__map" id="co_1_1_queue_slave_inherit__map">
<area shape="rect" id="node2" href="classco_1_1_object.html" title="A distributed object." alt="" coords="5,261,203,1872"/><area shape="rect" id="node4" href="classco_1_1_dispatcher.html" title="A class providing command dispatch functionality to networked objects." alt="" coords="19,6,189,213"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for co::QueueSlave:</div>
<div class="dynsection">
<div class="center"><img src="classco_1_1_queue_slave__coll__graph.png" border="0" usemap="#co_1_1_queue_slave_coll__map" alt="Collaboration graph"/></div>
<map name="co_1_1_queue_slave_coll__map" id="co_1_1_queue_slave_coll__map">
<area shape="rect" id="node2" href="classco_1_1_object.html" title="A distributed object." alt="" coords="5,261,203,1872"/><area shape="rect" id="node4" href="classco_1_1_dispatcher.html" title="A class providing command dispatch functionality to networked objects." alt="" coords="19,6,189,213"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classco_1_1_queue_slave-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_queue_slave.html#a80c9e7b3664994e957fb7542fb8c5124">QueueSlave</a> (const uint32_t prefetchMark=LB_UNDEFINED_UINT32, const uint32_t prefetchAmount=LB_UNDEFINED_UINT32)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a new queue consumer.  <a href="#a80c9e7b3664994e957fb7542fb8c5124"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual CO_API&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_queue_slave.html#ae708141d3826e435df568653b542984f">~QueueSlave</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destruct this queue consumer.  <a href="#ae708141d3826e435df568653b542984f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CO_API <a class="el" href="classco_1_1_object_i_command.html">ObjectICommand</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_queue_slave.html#aeb98c186be68cd2e9ec402a93a1f7f9e">pop</a> (const uint32_t timeout=LB_TIMEOUT_INDEFINITE)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dequeue an item.  <a href="#aeb98c186be68cd2e9ec402a93a1f7f9e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classco_1_1_object.html#aaae58400a7f8d052bfa2b5392a5fbfe8">ChangeType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_queue_slave.html#a1f7f8f5eaf9fb391e739c064d898e886">getChangeType</a> () const override</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_queue_slave.html#a3af996247b498ab4fd16b08493851760">getInstanceData</a> (<a class="el" href="classco_1_1_data_o_stream.html">co::DataOStream</a> &amp;) override</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Serialize all instance information of this distributed object.  <a href="#a3af996247b498ab4fd16b08493851760"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classco_1_1_queue_slave.html#aef28dea7c2b2d6eaba5934f809e88320">applyInstanceData</a> (<a class="el" href="classco_1_1_data_i_stream.html">co::DataIStream</a> &amp;is) override</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deserialize the instance data.  <a href="#aef28dea7c2b2d6eaba5934f809e88320"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The consumer end of a distributed queue. </p>
<p>One or more instances of this class are mapped to the identifier of the <a class="el" href="classco_1_1_queue_master.html" title="The producer end of a distributed queue.">QueueMaster</a> registered on another node. </p>

<p>Definition at line <a class="el" href="queue_slave_8h_source.html#l00039">39</a> of file <a class="el" href="queue_slave_8h_source.html">queueSlave.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a80c9e7b3664994e957fb7542fb8c5124"></a><!-- doxytag: member="co::QueueSlave::QueueSlave" ref="a80c9e7b3664994e957fb7542fb8c5124" args="(const uint32_t prefetchMark=LB_UNDEFINED_UINT32, const uint32_t prefetchAmount=LB_UNDEFINED_UINT32)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API co::QueueSlave::QueueSlave </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&nbsp;</td>
          <td class="paramname"> <em>prefetchMark</em> = <code>LB_UNDEFINED_UINT32</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&nbsp;</td>
          <td class="paramname"> <em>prefetchAmount</em> = <code>LB_UNDEFINED_UINT32</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a new queue consumer. </p>
<p>The implementation will prefetch items from the queue master to cache them locally. The prefetchMark determines when new items are requested, and the prefetchAmount how many items are fetched. Prefetching items hides the network latency by pipelining the network communication with the processing, but introduces some imbalance between queue slaves.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prefetchMark</em>&nbsp;</td><td>the low-water mark for prefetching, or LB_UNDEFINED_UINT32 to use the <a class="el" href="classco_1_1_global.html" title="Global parameter handling for the Collage library.">Global</a> default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prefetchAmount</em>&nbsp;</td><td>the refill quantity when prefetching, or LB_UNDEFINED_UINT32 to use the <a class="el" href="classco_1_1_global.html" title="Global parameter handling for the Collage library.">Global</a> default. </td></tr>
  </table>
  </dd>
</dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ae708141d3826e435df568653b542984f"></a><!-- doxytag: member="co::QueueSlave::~QueueSlave" ref="ae708141d3826e435df568653b542984f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual CO_API co::QueueSlave::~QueueSlave </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destruct this queue consumer. </p>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aef28dea7c2b2d6eaba5934f809e88320"></a><!-- doxytag: member="co::QueueSlave::applyInstanceData" ref="aef28dea7c2b2d6eaba5934f809e88320" args="(co::DataIStream &amp;is) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co::QueueSlave::applyInstanceData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_data_i_stream.html">co::DataIStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>is</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deserialize the instance data. </p>
<p>This method is called during object mapping to populate slave instances with the master object's data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>is</em>&nbsp;</td><td>the input stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Implements <a class="el" href="classco_1_1_object.html#ad5d185282f6677499100df40e462e1b1">co::Object</a>.</p>

</div>
</div>
<a class="anchor" id="a1f7f8f5eaf9fb391e739c064d898e886"></a><!-- doxytag: member="co::QueueSlave::getChangeType" ref="a1f7f8f5eaf9fb391e739c064d898e886" args="() const override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classco_1_1_object.html#aaae58400a7f8d052bfa2b5392a5fbfe8">ChangeType</a> co::QueueSlave::getChangeType </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>how the changes are to be handled. </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Reimplemented from <a class="el" href="classco_1_1_object.html#a10ba549521822bf9401319e1d15c94bd">co::Object</a>.</p>

<p>Definition at line <a class="el" href="queue_slave_8h_source.html#l00077">77</a> of file <a class="el" href="queue_slave_8h_source.html">queueSlave.h</a>.</p>

<p>References <a class="el" href="classco_1_1_object.html#aaae58400a7f8d052bfa2b5392a5fbfe8abffa92dfe324266d5363ea52e6d28eff">co::Object::STATIC</a>.</p>

</div>
</div>
<a class="anchor" id="a3af996247b498ab4fd16b08493851760"></a><!-- doxytag: member="co::QueueSlave::getInstanceData" ref="a3af996247b498ab4fd16b08493851760" args="(co::DataOStream &amp;) override" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void co::QueueSlave::getInstanceData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classco_1_1_data_o_stream.html">co::DataOStream</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, override, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Serialize all instance information of this distributed object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>os</em>&nbsp;</td><td>The output stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>Implements <a class="el" href="classco_1_1_object.html#aacac279363ecc549cac67e715ab49864">co::Object</a>.</p>

<p>Definition at line <a class="el" href="queue_slave_8h_source.html#l00078">78</a> of file <a class="el" href="queue_slave_8h_source.html">queueSlave.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeb98c186be68cd2e9ec402a93a1f7f9e"></a><!-- doxytag: member="co::QueueSlave::pop" ref="aeb98c186be68cd2e9ec402a93a1f7f9e" args="(const uint32_t timeout=LB_TIMEOUT_INDEFINITE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CO_API <a class="el" href="classco_1_1_object_i_command.html">ObjectICommand</a> co::QueueSlave::pop </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&nbsp;</td>
          <td class="paramname"> <em>timeout</em> = <code>LB_TIMEOUT_INDEFINITE</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dequeue an item. </p>
<p>The returned item can deserialize additional data using the <a class="el" href="classco_1_1_data_i_stream.html" title="A std::istream-like input data stream for binary data.">DataIStream</a> operators.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>An optional timeout for the operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>an item from the distributed queue, or an invalid item if the queue is empty or the operation timed out. </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="queue_slave_8h_source.html">queueSlave.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 14 Apr 2014 for Collage by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
